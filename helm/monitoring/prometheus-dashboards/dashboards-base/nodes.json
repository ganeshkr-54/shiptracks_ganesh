{
  "title": "HELM / Nodes",
  "uid": "helm-nodes",
  "editable": true,
  "time": {"from": "now-8h", "to": "now"},
  "timepicker": {"refresh_intervals": ["10s", "30s", "1m", "5m", "15m", "30m", "1h"]},
  "refresh": "5m",
  "schemaVersion": 30,
  "tags": ["helm"],
  "templating": {
    "list": [
      {
        "current": {
          "selected": true,
          "text": "Production",
          "value": "Production"
        },
        "hide": 0,
        "includeAll": false,
        "multi": false,
        "name": "datasource",
        "options": [],
        "query": "prometheus",
        "queryValue": "",
        "refresh": 1,
        "regex": "^(?!default).*$",
        "skipUrlSync": false,
        "type": "datasource"
      },
      {
        "current": {
          "selected": true,
          "text": [
            "All"
          ],
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "${datasource}"
        },
        "definition": "label_values(up{job=\"node-exporter\"}, instance)",
        "hide": 0,
        "includeAll": true,
        "multi": true,
        "name": "instance",
        "options": [],
        "query": {
          "query": "label_values(up{job=\"node-exporter\"}, instance)",
          "refId": "StandardVariableQuery"
        },
        "refresh": 1,
        "regex": "/^(?<value>[^:]+)/",
        "skipUrlSync": false,
        "sort": 1,
        "type": "query"
      },
      {
        "allValue": ".*",
        "current": {
          "selected": false,
          "text": "All",
          "value": "$__all"
        },
        "datasource": {
          "type": "prometheus",
          "uid": "${datasource}"
        },
        "definition": "label_values(kube_namespace_created, namespace)",
        "hide": 0,
        "includeAll": true,
        "multi": true,
        "name": "namespace",
        "options": [],
        "query": {
          "query": "label_values(kube_namespace_created, namespace)",
          "refId": "StandardVariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "tagValuesQuery": "",
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "allValue": ".*",
        "current": {
          "selected": true,
          "text": [
            "All"
          ],
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "${datasource}"
        },
        "definition": "label_values(container_last_seen{namespace=\"$namespace\"}, container)",
        "hide": 0,
        "includeAll": true,
        "multi": true,
        "name": "container",
        "options": [],
        "query": {
          "query": "label_values(container_last_seen{namespace=\"$namespace\"}, container)",
          "refId": "StandardVariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "type": "query"
      }
    ]
  },
  "panels": [
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "",
            "axisPlacement": "hidden",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "master"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#B877D9",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "node"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#5794F2",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Ready"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#73BF69",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 0
      },
      "id": 227,
      "maxPerRow": 12,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "table",
          "placement": "right"
        },
        "tooltip": {
          "mode": "multi"
        }
      },
      "pluginVersion": "8.3.3",
      "repeat": "instance",
      "repeatDirection": "h",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max by (instance, nodename) (node_uname_info{instance=~\"[[instance]].*\"})",
          "interval": "",
          "legendFormat": "{{ nodename }}",
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "kube_node_status_condition{status=\"true\"} * on(node) group_left(internal_ip) max by (internal_ip, node) (kube_node_info{internal_ip=~\"[[instance]].*\"}) > 0",
          "interval": "",
          "legendFormat": "{{ condition }}",
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "kube_node_role * on(node) group_left(internal_ip) max by (internal_ip, node) (kube_node_info{internal_ip=~\"[[instance]].*\"})",
          "interval": "",
          "legendFormat": "{{ role }}",
          "refId": "C"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "kube_node_spec_taint * on(node) group_left(internal_ip) max by (internal_ip, node) (kube_node_info{internal_ip=~\"[[instance]].*\"})",
          "interval": "",
          "legendFormat": "{{ key }}",
          "refId": "D"
        }
      ],
      "title": "[[instance]] Status",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "left",
            "displayMode": "auto"
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Field"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 125
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 4
      },
      "id": 410,
      "maxPerRow": 12,
      "options": {
        "footer": {
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": false
      },
      "pluginVersion": "8.3.3",
      "repeat": "instance",
      "repeatDirection": "h",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "kube_node_status_capacity{resource=\"cpu\"} * on(node) group_left(internal_ip) max by (internal_ip, node) (kube_node_info{internal_ip=~\"[[instance]].*\"})",
          "interval": "",
          "legendFormat": "CPU (cores)",
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "kube_node_status_capacity{resource=\"memory\"} / 1024^3 * on(node) group_left(internal_ip) max by (internal_ip, node) (kube_node_info{internal_ip=~\"[[instance]].*\"})",
          "interval": "",
          "legendFormat": "Memory (GiB)",
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "kube_node_status_capacity{resource=\"ephemeral_storage\"} / 1024^3 * on(node) group_left(internal_ip) max by (internal_ip, node) (kube_node_info{internal_ip=~\"[[instance]].*\"})",
          "interval": "",
          "legendFormat": "Storage (GiB)",
          "refId": "C"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "kube_node_status_capacity{resource=\"pods\"} * on(node) group_left(internal_ip) max by (internal_ip, node) (kube_node_info{internal_ip=~\"[[instance]].*\"})",
          "interval": "",
          "legendFormat": "Pods",
          "refId": "D"
        }
      ],
      "title": "[[instance]] Capacity",
      "transformations": [
        {
          "id": "reduce",
          "options": {}
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "indexByName": {},
            "renameByName": {
              "Field": "Field",
              "Max": "Value"
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "links": []
        },
        "overrides": []
      },
      "fill": 10,
      "fillGradient": 0,
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 9
      },
      "hiddenSeries": false,
      "id": 42,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": false,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 0,
      "maxPerRow": 12,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": true,
      "pluginVersion": "8.3.3",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "repeat": "instance",
      "repeatDirection": "h",
      "seriesOverrides": [
        {
          "$$hashKey": "object:1243",
          "alias": "idle",
          "color": "#73BF69"
        },
        {
          "$$hashKey": "object:1244",
          "alias": "system",
          "color": "#F2495C"
        },
        {
          "$$hashKey": "object:1245",
          "alias": "iowait",
          "color": "#5794F2"
        },
        {
          "$$hashKey": "object:1246",
          "alias": "user",
          "color": "#FF9830"
        }
      ],
      "spaceLength": 10,
      "stack": true,
      "steppedLine": false,
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "sum by (instance, mode) (irate(node_cpu_seconds_total{instance=~\"[[instance]].*\"}[5m])) / count by (instance, mode) (node_cpu_seconds_total)",
          "interval": "",
          "legendFormat": "{{ mode }}",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeRegions": [],
      "title": "[[instance]] CPU",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "mode": "time",
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:1271",
          "format": "percentunit",
          "logBase": 1,
          "max": "100",
          "min": "0",
          "show": false
        },
        {
          "$$hashKey": "object:1272",
          "format": "short",
          "logBase": 1,
          "show": true
        }
      ],
      "yaxis": {
        "align": false
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 13
      },
      "hiddenSeries": false,
      "id": 23,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": false,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "maxPerRow": 12,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "8.3.3",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "repeat": "instance",
      "repeatDirection": "h",
      "seriesOverrides": [
        {
          "$$hashKey": "object:1349",
          "alias": "LIMIT",
          "color": "#C4162A",
          "dashes": true,
          "fill": 0,
          "linewidth": 1
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max by (instance) (node_load1{instance=~\"[[instance]].*\"})",
          "interval": "",
          "legendFormat": "LA 1",
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max by (instance) (node_load5{instance=~\"[[instance]].*\"})",
          "interval": "",
          "legendFormat": "LA 5",
          "refId": "C"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max by (instance) (node_load15{instance=~\"[[instance]].*\"})",
          "interval": "",
          "legendFormat": "LA 15",
          "refId": "D"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "machine_cpu_cores{instance=~\"[[instance]].*\"}",
          "interval": "",
          "legendFormat": "LIMIT",
          "refId": "E"
        }
      ],
      "thresholds": [],
      "timeRegions": [],
      "title": "[[instance]] LA",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "mode": "time",
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:1362",
          "format": "short",
          "logBase": 1,
          "min": "0",
          "show": true
        },
        {
          "$$hashKey": "object:1363",
          "format": "short",
          "logBase": 1,
          "show": true
        }
      ],
      "yaxis": {
        "align": false
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "links": []
        },
        "overrides": []
      },
      "fill": 10,
      "fillGradient": 0,
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 17
      },
      "hiddenSeries": false,
      "id": 67,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": false,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 0,
      "maxPerRow": 12,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "8.3.3",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "repeat": "instance",
      "repeatDirection": "h",
      "seriesOverrides": [
        {
          "$$hashKey": "object:1460",
          "alias": "free",
          "color": "#73BF69"
        },
        {
          "$$hashKey": "object:1461",
          "alias": "used",
          "color": "#F2495C"
        },
        {
          "$$hashKey": "object:1462",
          "alias": "cached",
          "color": "#B877D9"
        },
        {
          "$$hashKey": "object:1463",
          "alias": "buffers",
          "color": "#FF9830"
        },
        {
          "$$hashKey": "object:1464",
          "alias": "AVAILABLE",
          "color": "#C4162A",
          "fill": 0,
          "linewidth": 1,
          "stack": false
        },
        {
          "$$hashKey": "object:1465",
          "alias": "SHARED",
          "color": "#8F3BB8",
          "fill": 0,
          "linewidth": 1,
          "stack": false
        }
      ],
      "spaceLength": 10,
      "stack": true,
      "steppedLine": false,
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max by (instance) (node_memory_MemFree_bytes{instance=~\"[[instance]].*\"})",
          "interval": "",
          "legendFormat": "free",
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max by (instance) (node_memory_Buffers_bytes{instance=~\"[[instance]].*\"})",
          "interval": "",
          "legendFormat": "buffers",
          "refId": "D"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max by (instance) (node_memory_Cached_bytes{instance=~\"[[instance]].*\"})",
          "interval": "",
          "legendFormat": "cached",
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max by (instance) (node_memory_MemTotal_bytes{instance=~\"[[instance]].*\"} - node_memory_Buffers_bytes - node_memory_Cached_bytes - node_memory_MemFree_bytes)",
          "interval": "",
          "legendFormat": "used",
          "refId": "C"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max by (instance) (node_memory_Shmem_bytes{instance=~\"[[instance]].*\"})",
          "interval": "",
          "legendFormat": "SHARED",
          "refId": "F"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max by (instance) (node_memory_MemAvailable_bytes{instance=~\"[[instance]].*\"})",
          "interval": "",
          "legendFormat": "AVAILABLE",
          "refId": "E"
        }
      ],
      "thresholds": [],
      "timeRegions": [],
      "title": "[[instance]] Memory",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "mode": "time",
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:1514",
          "format": "decbytes",
          "logBase": 1,
          "min": "0",
          "show": true
        },
        {
          "$$hashKey": "object:1515",
          "format": "short",
          "logBase": 1,
          "show": true
        }
      ],
      "yaxis": {
        "align": false
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 21
      },
      "hiddenSeries": false,
      "id": 10,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": false,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "maxPerRow": 12,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "8.3.3",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "repeat": "instance",
      "repeatDirection": "h",
      "seriesOverrides": [
        {
          "$$hashKey": "object:648",
          "alias": "LIMIT",
          "color": "#C4162A",
          "dashes": true,
          "fill": 0,
          "linewidth": 1
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max(1 - node_filesystem_avail_bytes{instance=~\"[[instance]].*\", fstype!~\"tmpfs|.*lxcfs\"} / node_filesystem_size_bytes) by (instance, mountpoint, device)",
          "interval": "",
          "legendFormat": "{{ mountpoint }} ({{ device }})",
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "0.85",
          "interval": "",
          "legendFormat": "LIMIT",
          "refId": "B"
        }
      ],
      "thresholds": [],
      "timeRegions": [],
      "title": "[[instance]] Disk Usage",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "mode": "time",
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:661",
          "decimals": 1,
          "format": "percentunit",
          "logBase": 1,
          "max": "1",
          "min": "0",
          "show": true
        },
        {
          "$$hashKey": "object:662",
          "format": "short",
          "logBase": 1,
          "show": false
        }
      ],
      "yaxis": {
        "align": false
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 25
      },
      "hiddenSeries": false,
      "id": 343,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": false,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "maxPerRow": 12,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "8.3.3",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "repeat": "instance",
      "repeatDirection": "h",
      "seriesOverrides": [
        {
          "$$hashKey": "object:787",
          "alias": "Limit",
          "color": "#C4162A",
          "fill": 0,
          "linewidth": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max by (instance) (irate(node_disk_reads_completed_total{instance=~\"[[instance]].*\",device=~\"sd.*\"}[5m]))",
          "interval": "",
          "legendFormat": "{{ device }} reads",
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "min by (instance) (-irate(node_disk_writes_completed_total{instance=~\"[[instance]].*\",device=~\"sd.*\"}[5m]))",
          "instant": false,
          "interval": "",
          "legendFormat": "{{ device }} writes",
          "refId": "B"
        }
      ],
      "thresholds": [],
      "timeRegions": [],
      "title": "[[instance]] Disk IO",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "mode": "time",
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:798",
          "format": "ops",
          "logBase": 1,
          "show": true
        },
        {
          "$$hashKey": "object:799",
          "format": "short",
          "logBase": 1,
          "show": true
        }
      ],
      "yaxis": {
        "align": false
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 29
      },
      "hiddenSeries": false,
      "id": 282,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": false,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "maxPerRow": 12,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "8.3.3",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "repeat": "instance",
      "repeatDirection": "h",
      "seriesOverrides": [
        {
          "$$hashKey": "object:880",
          "alias": "Limit",
          "color": "#C4162A",
          "fill": 0,
          "linewidth": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max by (instance) (irate(node_network_transmit_bytes_total{instance=~\"[[instance]].*\",device=~\"eth.*\"}[5m]))",
          "instant": false,
          "interval": "",
          "legendFormat": "{{ device }} transmit",
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "min by (instance) (irate(node_network_receive_bytes_total{instance=~\"[[instance]].*\",device=~\"eth.*\"}[5m]))",
          "interval": "",
          "legendFormat": "{{ device }} receive",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeRegions": [],
      "title": "[[instance]] Network",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "mode": "time",
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:891",
          "format": "Bps",
          "logBase": 1,
          "show": true
        },
        {
          "$$hashKey": "object:892",
          "format": "short",
          "logBase": 1,
          "show": true
        }
      ],
      "yaxis": {
        "align": false
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 33
      },
      "hiddenSeries": false,
      "id": 475,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": false,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "maxPerRow": 12,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "8.3.3",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "repeat": "instance",
      "repeatDirection": "h",
      "seriesOverrides": [
        {
          "$$hashKey": "object:280",
          "alias": "Limit",
          "color": "#C4162A",
          "fill": 0,
          "linewidth": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "exemplar": true,
          "expr": "max by (instance) (node_netstat_Tcp_CurrEstab{instance=~\"[[instance]].*\"})",
          "instant": false,
          "interval": "",
          "legendFormat": "Established",
          "refId": "B"
        }
      ],
      "thresholds": [],
      "timeRegions": [],
      "title": "[[instance]] Connections",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "mode": "time",
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:291",
          "format": "short",
          "logBase": 1,
          "show": true
        },
        {
          "$$hashKey": "object:292",
          "format": "short",
          "logBase": 1,
          "show": true
        }
      ],
      "yaxis": {
        "align": false
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "decimals": 0,
      "fieldConfig": {
        "defaults": {
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 37
      },
      "hiddenSeries": false,
      "id": 135,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": false,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "maxPerRow": 12,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "8.3.3",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "repeat": "instance",
      "repeatDirection": "h",
      "seriesOverrides": [
        {
          "$$hashKey": "object:1111",
          "alias": "LIMIT",
          "color": "#C4162A",
          "dashes": true,
          "fill": 0,
          "linewidth": 1
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max by (instance) (kubelet_running_pods{instance=~\"[[instance]].*\"})",
          "interval": "",
          "legendFormat": "pods",
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "kube_node_status_capacity{resource=\"pods\"} * on(node) group_left(internal_ip) max by (internal_ip, node) (kube_node_info{internal_ip=~\"[[instance]].*\"})",
          "interval": "",
          "legendFormat": "LIMIT",
          "refId": "B"
        }
      ],
      "thresholds": [],
      "timeRegions": [],
      "title": "[[instance]] Pods",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "mode": "time",
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:1124",
          "decimals": 0,
          "format": "short",
          "logBase": 1,
          "min": "0",
          "show": true
        },
        {
          "$$hashKey": "object:1125",
          "format": "short",
          "logBase": 1,
          "show": true
        }
      ],
      "yaxis": {
        "align": false
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 41
      },
      "hiddenSeries": false,
      "id": 2,
      "legend": {
        "alignAsTable": true,
        "avg": false,
        "current": true,
        "max": true,
        "min": true,
        "rightSide": true,
        "show": false,
        "sort": "current",
        "sortDesc": true,
        "total": false,
        "values": true
      },
      "lines": true,
      "linewidth": 1,
      "maxPerRow": 12,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "8.3.3",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "repeat": "instance",
      "repeatDirection": "h",
      "seriesOverrides": [
        {
          "$$hashKey": "object:1254",
          "alias": "Total CPU",
          "color": "#C4162A",
          "fill": 0,
          "linewidth": 2
        }
      ],
      "spaceLength": 10,
      "stack": true,
      "steppedLine": false,
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max(irate(container_cpu_usage_seconds_total{instance=~\"[[instance]].*\",namespace=~\"[[namespace]]\",container=~\"[[container]]\",container!=\"\"}[5m])) by (namespace, pod, container)",
          "interval": "",
          "legendFormat": "{{ namespace }} / {{ pod }} / {{ container }}",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeRegions": [],
      "title": "[[instance]] Pod CPU",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "mode": "time",
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:1265",
          "format": "short",
          "logBase": 1,
          "show": true
        },
        {
          "$$hashKey": "object:1266",
          "format": "short",
          "logBase": 1,
          "show": true
        }
      ],
      "yaxis": {
        "align": false
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 45
      },
      "hiddenSeries": false,
      "id": 98,
      "legend": {
        "alignAsTable": true,
        "avg": false,
        "current": true,
        "max": true,
        "min": true,
        "rightSide": true,
        "show": false,
        "sort": "current",
        "sortDesc": true,
        "total": false,
        "values": true
      },
      "lines": true,
      "linewidth": 1,
      "maxPerRow": 12,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "8.3.3",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "repeat": "instance",
      "repeatDirection": "h",
      "seriesOverrides": [
        {
          "$$hashKey": "object:1465",
          "alias": "Total Memory",
          "color": "#C4162A",
          "fill": 0,
          "linewidth": 2
        }
      ],
      "spaceLength": 10,
      "stack": true,
      "steppedLine": false,
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max by (namespace, pod, container) (container_memory_rss{instance=~\"[[instance]].*\",namespace=~\"[[namespace]]\",container=~\"[[container]]\",container!=\"\"})",
          "interval": "",
          "legendFormat": "{{ namespace }} / {{ pod }} / {{ container }}",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeRegions": [],
      "title": "[[instance]] Pod Memory",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "mode": "time",
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:1476",
          "format": "bytes",
          "logBase": 1,
          "show": true
        },
        {
          "$$hashKey": "object:1477",
          "format": "short",
          "logBase": 1,
          "show": true
        }
      ],
      "yaxis": {
        "align": false
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 49
      },
      "hiddenSeries": false,
      "id": 544,
      "legend": {
        "alignAsTable": true,
        "avg": false,
        "current": true,
        "max": true,
        "min": true,
        "rightSide": true,
        "show": false,
        "sort": "current",
        "sortDesc": true,
        "total": false,
        "values": true
      },
      "lines": true,
      "linewidth": 1,
      "maxPerRow": 12,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "8.3.3",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "repeat": "instance",
      "repeatDirection": "h",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": true,
      "steppedLine": false,
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "exemplar": true,
          "expr": "max by (namespace, pod, container) (container_sockets{instance=~\"[[instance]].*\",namespace=~\"[[namespace]]\",container=~\"[[container]]\",container!=\"\"})",
          "interval": "",
          "legendFormat": "{{ namespace }} / {{ pod }} / {{ container }}",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeRegions": [],
      "title": "[[instance]] Pod Open Sockets",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "mode": "time",
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:367",
          "format": "short",
          "logBase": 1,
          "show": true
        },
        {
          "$$hashKey": "object:368",
          "format": "short",
          "logBase": 1,
          "show": true
        }
      ],
      "yaxis": {
        "align": false
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 53
      },
      "hiddenSeries": false,
      "id": 617,
      "legend": {
        "alignAsTable": true,
        "avg": false,
        "current": true,
        "max": true,
        "min": true,
        "rightSide": true,
        "show": false,
        "sort": "current",
        "sortDesc": true,
        "total": false,
        "values": true
      },
      "lines": true,
      "linewidth": 1,
      "maxPerRow": 12,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "8.3.3",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "repeat": "instance",
      "repeatDirection": "h",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": true,
      "steppedLine": false,
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "exemplar": true,
          "expr": "max by (namespace, pod, container) (container_threads{instance=~\"[[instance]].*\",namespace=~\"[[namespace]]\",container=~\"[[container]]\",container!=\"\"})",
          "interval": "",
          "legendFormat": "{{ namespace }} / {{ pod }} / {{ container }}",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeRegions": [],
      "title": "[[instance]] Pod Threads",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "mode": "time",
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:367",
          "format": "short",
          "logBase": 1,
          "show": true
        },
        {
          "$$hashKey": "object:368",
          "format": "short",
          "logBase": 1,
          "show": true
        }
      ],
      "yaxis": {
        "align": false
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 57
      },
      "hiddenSeries": false,
      "id": 178,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": false,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "maxPerRow": 12,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "8.3.3",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "repeat": "instance",
      "repeatDirection": "h",
      "seriesOverrides": [
        {
          "$$hashKey": "object:1772",
          "alias": "free",
          "color": "#73BF69"
        },
        {
          "$$hashKey": "object:1773",
          "alias": "active",
          "color": "#F2495C"
        },
        {
          "$$hashKey": "object:1774",
          "alias": "cached",
          "color": "#B877D9"
        },
        {
          "$$hashKey": "object:1775",
          "alias": "buffers",
          "color": "#FF9830"
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "sum(increase(container_cpu_cfs_throttled_periods_total{instance=~\"[[instance]].*\",namespace=~\"[[namespace]]\",container=~\"[[container]]\",container!=\"\"}[5m])) by (namespace, pod, container) / sum(increase(container_cpu_cfs_periods_total[5m])) by (namespace, pod, container)",
          "interval": "",
          "legendFormat": "{{namespace}} / {{pod}} / {{ container }}",
          "refId": "C"
        }
      ],
      "thresholds": [],
      "timeRegions": [],
      "title": "[[instance]] Pod CPU Throttling",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "mode": "time",
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:1800",
          "decimals": 1,
          "format": "percentunit",
          "logBase": 1,
          "min": "0",
          "show": true
        },
        {
          "$$hashKey": "object:1801",
          "format": "short",
          "logBase": 1,
          "show": true
        }
      ],
      "yaxis": {
        "align": false
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 61
      },
      "hiddenSeries": false,
      "id": 179,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": false,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "maxPerRow": 12,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "8.3.3",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "repeat": "instance",
      "repeatDirection": "h",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{instance=~\"[[instance]].*\",namespace=~\"[[namespace]]\",container=~\"[[container]]\",container!=\"\"}[5m]) / on (namespace, pod, container) group_left max by (namespace, pod, container) (kube_pod_container_resource_requests{resource=\"cpu\"}) > 1)",
          "interval": "",
          "legendFormat": "{{namespace}} / {{pod}} / {{ container }}",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeRegions": [],
      "title": "[[instance]] Pod CPU > Requests",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "mode": "time",
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:1882",
          "decimals": 1,
          "format": "percentunit",
          "logBase": 1,
          "min": "0",
          "show": true
        },
        {
          "$$hashKey": "object:1883",
          "format": "short",
          "logBase": 1,
          "show": true
        }
      ],
      "yaxis": {
        "align": false
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 65
      },
      "hiddenSeries": false,
      "id": 180,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": false,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "maxPerRow": 12,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "8.3.3",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "repeat": "instance",
      "repeatDirection": "h",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max by (namespace, pod, container) (irate(container_cpu_usage_seconds_total{instance=~\"[[instance]].*\",namespace=~\"[[namespace]]\",container=~\"[[container]]\",container!=\"\"}[5m]) / on (namespace, pod, container) group_left max by (namespace, pod, container) (kube_pod_container_resource_limits{resource=\"cpu\"}) > 0.85)",
          "interval": "",
          "legendFormat": "{{namespace}} / {{pod}} / {{ container }}",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeRegions": [],
      "title": "[[instance]] POD CPU > 85% Limits",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "mode": "time",
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:1964",
          "decimals": 1,
          "format": "percentunit",
          "logBase": 1,
          "min": "0",
          "show": true
        },
        {
          "$$hashKey": "object:1965",
          "format": "short",
          "logBase": 1,
          "show": true
        }
      ],
      "yaxis": {
        "align": false
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 69
      },
      "hiddenSeries": false,
      "id": 181,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": false,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "maxPerRow": 12,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "8.3.3",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "repeat": "instance",
      "repeatDirection": "h",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max by (namespace, pod, container) (container_memory_rss{instance=~\"[[instance]].*\",namespace=~\"[[namespace]]\",container=~\"[[container]]\",container!=\"\"} / on (namespace, pod, container) group_left max by (namespace, pod, container) (kube_pod_container_resource_requests{resource=\"memory\"}) > 1)",
          "interval": "",
          "legendFormat": "{{namespace}} / {{pod}} / {{ container }}",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeRegions": [],
      "title": "[[instance]] POD Memory > Requests",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "mode": "time",
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:2046",
          "decimals": 1,
          "format": "percentunit",
          "logBase": 1,
          "min": "0",
          "show": true
        },
        {
          "$$hashKey": "object:2047",
          "format": "short",
          "logBase": 1,
          "show": true
        }
      ],
      "yaxis": {
        "align": false
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 73
      },
      "hiddenSeries": false,
      "id": 182,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": false,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "maxPerRow": 12,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "8.3.3",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "repeat": "instance",
      "repeatDirection": "h",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "expr": "max by (namespace, pod, container) (container_memory_rss{instance=~\"[[instance]].*\",namespace=~\"[[namespace]]\",container=~\"[[container]]\",container!=\"\"} / on (namespace, pod, container) group_left max by (namespace, pod, container) (kube_pod_container_resource_limits{resource=\"memory\"}) > 0.85)",
          "interval": "",
          "legendFormat": "{{namespace}} / {{pod}} / {{ container }}",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeRegions": [],
      "title": "[[instance]] POD Memory > 85% Limits",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "mode": "time",
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:2128",
          "decimals": 1,
          "format": "percentunit",
          "logBase": 1,
          "min": "0",
          "show": true
        },
        {
          "$$hashKey": "object:2129",
          "format": "short",
          "logBase": 1,
          "show": true
        }
      ],
      "yaxis": {
        "align": false
      }
    }
  ]
}
